{% extends '/layouts/default.twig' %}

{% set style = style('editperson.css') %}
{% set title = 'Parraindex - Edition personne' %}

{% block javascripts %}
	<script src="{{script('editPerson.js')}}" defer></script>
{% endblock %}

{% block content %}

<form class="edit-person" method="POST" enctype="multipart/form-data">

	<div class="description">

		<div class="description__about">

			<h2>A PROPOS</h1>

			<textarea name="person-desc" id="about-field" cols="30" rows="10">{{person.description}}</textarea>
		
		</div>

		<div class="description__biography">

			<h2>BIOGRAPHIE</h1>

			<textarea name="person-bio" id="bio-field" cols="30" rows="10">{{person.biography}}</textarea>

		</div>
	
	</div>

	<div class="public">

		<div class="public__identity">

			<h2>IDENTIFANT</h1>

			<p>@{{person.id}}</p>

		</div>


		{% include 'components/card.twig' with {
			'id': person.id,
			'color': person.color,
			'firstName': person.firstName,
			'lastName': person.lastName,
			'picture': person.picture,
			'characteristics': person.characteristics,
			'description': person.biography,
			'startYear': person.startYear,
			}
		%}

		<div class="public__personalization">

			<h2>PERSONNALISATIONS</h2>

			<div class="public__personalization__choice" id="color-field" >

				<label style="background-color : #f0f0f0">
					<input checked type="radio" name="banner-color" value= "#f0f0f0">
				</label>

				<label style="background-color : #132035">
					<input type="radio" name="banner-color"  value= "#132035">
				</label>

				<label style="background-color : #8a8a8a">
					<input type="radio" name="banner-color"  value= "#8a8a8a">
				</label>
			
			</div>

		</div>

	</div>

	<div class="information">

		{% if admin %}
			<div class="information__personnal">
				<h2>Information personnel</h2>
				
				<label for="lastname-field">Nom</label>
				<input type="text" name="person-lastname" id="lastname-field" value="{{person.lastName}}">

				<label for="">Pr√©nom</label>
				<input type="text" name="person-firstname" id="firstname-field" value="{{person.firstName}}">

			</div>
		{% endif %}

		<div class="contact">
			<h2>CONTACT</h2>

			<div class="contact__characteristics" id="contact-field">

				{% for characteristic in characteristics %}

					{% set value = null %}

					{% for userCharacteristic in person.characteristics %}
						{% if characteristic.title == userCharacteristic.title %}
							{% set value = userCharacteristic %}
						{% endif %}
					{% endfor %}

					{% include 'components/characteristic.twig' with {
						'title': characteristic.title,
						'value': value.value,
						'visibility': value.visible,
						}
					%}
				{% endfor %}
			
			</div>
		</div>
	</div>

	{{ include('components/modal-picture.twig') }}

	<nav class='confirm'>

		<a href="#">
			<img src="{{icon('up.svg')}}" class="prev" alt="retour">
		</a>

		<button class="btn btn--primary" type="submit">
			Enregistrer
		</button>

	</nav>

</form>

{% endblock %}